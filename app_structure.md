# Flutter 주식 앱 구조 분석

## 1. 앱 구조 다이어그램

```
stock_app_fixed/
├── lib/
│   ├── main.dart                      # 앱 진입점 및 네비게이션 구조
│   ├── models/
│   │   └── stock_model.dart           # 주식 데이터 모델
│   ├── screens/
│   │   ├── dashboard_screen.dart      # 대시보드(홈) 화면
│   │   ├── add_stock_screen.dart      # 종목 추가 화면
│   │   ├── stock_detail_screen.dart   # 종목 상세 화면
│   │   ├── ai_recommendation_screen.dart # AI 추천 화면
│   │   └── new_screens/
│   │       ├── market_screen.dart     # 시장 동향 화면
│   │       ├── news_screen.dart       # 뉴스 화면
│   │       ├── portfolio_screen.dart  # 포트폴리오 화면
│   │       └── settings_screen.dart   # 설정 화면
│   └── services/
│       ├── api_service.dart           # API 연동 서비스
│       └── local_storage.dart         # 로컬 저장소 관리
└── pubspec.yaml                       # 프로젝트 의존성 관리
```

## 2. 기존 기능 목록

### 네비게이션 및 UI
- 하단 내비게이션 바 (홈, 시장, 포트폴리오, 뉴스, 설정)
- 기본 테마 및 스타일 적용
- 플로팅 액션 버튼 (홈 화면에서 AI 추천 화면으로 이동)

### 데이터 관리
- 공공데이터포털 API 연동 (기본 데이터 소스)
- 다른 API 소스 지원 구조 (YahooFinance, IEXCloud)
- 로컬 저장소를 통한 관심종목 저장 및 불러오기

### 화면별 기능

#### 대시보드(홈) 화면
- 관심종목 목록 표시
- 종목 추가 및 삭제 기능
- 종목 클릭 시 상세 화면으로 이동

#### 종목 추가 화면
- 종목명 검색 기능
- 검색 결과 목록 표시
- 종목 선택 및 관심목록 추가 기능

#### 종목 상세 화면
- 종목 기본 정보 표시 (현재가, 등락률, 거래량)
- 주가 변동 차트 표시 (fl_chart 라이브러리 사용)
- 실시간 데이터 로딩 기능

#### 시장 동향 화면
- 주요 지수 현황 표시 (KOSPI, KOSDAQ 등)
- 업종별 등락률 표시
- 인기 종목 목록 표시

#### 뉴스 화면
- 주식 관련 뉴스 목록 표시
- 뉴스 검색 기능 (UI만 구현)
- 뉴스 상세 내용 모달 표시

#### 포트폴리오 화면
- 보유 종목 목록 표시
- 종목별 수익률 계산 및 표시
- 포트폴리오 요약 정보 (총 투자금액, 현재 가치, 수익률)
- 종목 추가 및 편집 기능

#### 설정 화면
- 앱 설정 관리 (다크 모드, 실시간 데이터, 알림)
- 데이터 소스 선택 기능
- 데이터 갱신 주기 설정 기능
- 데이터 관리 기능 (캐시 삭제, 데이터 초기화)

#### AI 추천 화면
- 기본 UI만 구현된 상태 (실제 기능 없음)

## 3. 개선이 필요한 부분

### 검색 기능
- 현재 검색 기능은 기본적인 수준으로만 구현됨
- 자동완성 기능 없음
- 유사 종목 그룹화 및 추천 기능 없음
- 검색 결과 정렬 기능 제한적

### 설정 화면
- API 키 관리 기능 부재
- 실시간 데이터 연동 설정이 실제로 적용되지 않음
- 데이터 소스 변경 시 실제 API 변경 로직 미구현

### 관심종목 기능
- 관심종목 추가를 위한 플로팅 버튼 없음
- 여러 종목을 한 번에 검색하는 기능 제한적
- 관심종목 관리 기능 개선 필요

### QR 코드 스캔
- QR 코드를 통한 종목 정보 추가 기능 없음

### AI 추천 기능
- 현재는 UI만 구현되어 있고 실제 기능 없음
- 추천 알고리즘 및 데이터 연동 필요

### 실시간 데이터
- 실시간 데이터 연동 기능 개선 필요
- 데이터 갱신 주기 설정이 실제로 적용되지 않음

### 뉴스 연동
- 실제 뉴스 API 연동 부재 (더미 데이터 사용)
- 뉴스 검색 및 필터링 기능 미구현

## 4. 요구사항에 맞는 개발 계획

### UI/UX 개선
- 전체적인 디자인 테마 개선
- 사용자 경험 향상을 위한 인터랙션 추가
- 반응형 레이아웃 개선
- 접근성 향상

### 설정 화면 개선
- API 키 관리 기능 추가
- 실시간 데이터 연동 설정 기능 구현
- 데이터 소스 선택 기능 개선
- 데이터 표시 형식 설정 기능 추가

### 검색 기능 개선
- 자동완성 기능 추가
- 유사 종목 그룹화 및 추천 기능 구현
- 검색 결과 우선순위 정렬 기능 구현
- 검색 필터 및 정렬 옵션 추가

### QR 코드 스캔 기능 구현
- QR 코드 스캐너 통합
- QR 코드 형식 정의
- 스캔 후 즉시 처리 기능 구현
- QR 코드 생성 기능 구현

### 공공데이터포털 API 연동 개선
- API 연동 코드 최적화
- 데이터 모델 업데이트
- 에러 처리 개선

### 실시간 데이터 연동 개선
- 실시간 데이터 연동 활성화/비활성화 기능 구현
- 데이터 갱신 주기 설정 기능 구현
- 데이터 소스 선택 기능 구현
- 데이터 표시 형식 설정 기능 구현

### 관심종목 기능 개선
- 관심종목 추가를 위한 플로팅 버튼 추가
- 관심종목 추가 시 여러 종목을 한 번에 검색할 수 있는 기능 구현
- 관심종목 관리 기능 개선

### AI 종목 추천 기능 구현
- AI 추천 알고리즘 구현
- 추천 화면 개선
- 추천 결과 표시 방식 개선

### 뉴스 연동 기능 개선
- 실제 뉴스 API 연동
- 뉴스 화면 개선
- 뉴스 검색 및 필터링 기능 구현
